<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <title>Document</title>

</head>
<body>
    

    <div class="container py-5">
    <div class="row">
        <div class="col-md-12">
            <h2 class="text-center mb-5">Bootstrap 4 Forms</h2>
            
            <hr class="mb-5">
            <div class="row">
                <div class="col-md-6 offset-md-3">
                    <span class="anchor" id="formLogin"></span>

                    <!-- form card login with validation feedback -->
                    
                    <!-- /form card login -->

                </div>
                <div class="col-md-6 offset-md-3">
                    <span class="anchor" id="formRegister"></span>
                    <hr class="mb-5">

                    <!-- form card register -->
                    
                    <!-- /form card register -->

                </div>
                <div class="col-md-6 offset-md-3">
                    <span class="anchor" id="formChangePassword"></span>
                    <hr class="mb-5">

                    <!-- form card change password -->
                    <div class="card card-outline-secondary">
                        <div class="card-header">
                            <h3 class="mb-0">Change Password</h3>
                        </div>
                        <div class="card-body">
                            <form class="form" role="form" autocomplete="off" action="/changepassword" id="psdform" method="post">
                                                 <div class="form-group">
                                    <label for="inputPasswordOld">Email</label>
                                    <input type="email" name="email" onkeyup="validEmail()" value="{{user.email}}" id="inputEmail3" class="form-control" id="inputPasswordOld" >
                                    <span id="uemail-error" class="text-danger text-center"></span>
                                </div>
                                <div class="form-group">
                                    <label for="inputPasswordOld">Current Password</label>
                                    <input type="password" class="form-control" id="inputPassword3" name="password" onkeyup="validPsd()" >
                                     <span id="upsd-error" class="text-danger text-center"></span>
                                </div>
                                <div class="form-group">
                                    <label for="inputPasswordNew">New Password</label>
                                    <input type="password" class="form-control" id="inputPassword4" name="newPassword" onkeyup="vaildnewPsd()" >
                                     <span id="newpsd-error" class="text-danger text-center"></span>
                                </div>
                                {{!-- <div class="form-group">
                                    <label for="inputPasswordNewVerify">Verify</label>
                                    <input type="password" class="form-control" id="inputPasswordNewVerify" required="">
                                    <span class="form-text small text-muted">
                                            To confirm, type the new password again.
                                        </span>
                                </div> --}}
                                <div class="form-group">
                                    <button type="submit" onclick="return formValid()" class="btn btn-success btn-lg float-right">Save</button>
                                </div>
                            </form>
                            {{#if chpsd}}
      <div class="alert alert-success" role="alert">
        Password Updated....
      </div>
    {{/if}}
    {{#if notchpsd}}
      <div class="alert alert-warning" role="alert">
        Password Not Updated....
      </div>
    {{/if}}
                        </div>
                    </div>
                    <!-- /form card change password -->

                </div>
                
                <div class="col-md-6 offset-md-3">
                    <span class="anchor" id="formPayment"></span>
                    <hr class="my-5">

                    <!-- form card cc payment -->
                    
                    <!-- /form card cc payment -->

                </div>
                <!--/col-->
                
                <!--/col-->
                
                <!--/col-->

                

            </div>
            <!--/row-->

        <br><br><br><br>

        </div>
        <!--/col-->
    </div>
    <!--/row-->
    <hr>
    <p class="text-center">The End.<br>
        <a class="small text-info d-inline-block" href="https://www.codeply.com/bootstrap-4-examples">More Bootstrap 4 Examples</a>
    </p>
    
</div>
<!--/container-->
<!-- JavaScript Bundle with Popper -->
<script>
  var psdError = document.getElementById('upsd-error'); 
  var newpsdError = document.getElementById('newpsd-error'); 
  var emailError =document.getElementById('uemail-error'); 
  function validEmail()
  { var email =document.getElementById('inputEmail3').value; 
  if(email.length==0){
  emailError.innerHTML= 'Email is required....'; return false; }
  if(!email.match(/^[A-Za-z\._\-[0-9]*[@][A-Za-z]*[\.][a-z]{2,4}$/)){
  emailError.innerHTML='Invalid Email Format....'; return false; }
  emailError.innerHTML = ""; return true; }
  
   function validPsd()
   { var psd =document.getElementById('inputPassword3').value; if(psd.length == 0)
   {psdError.innerHTML= 'Password is required'; return false; } 
   if(psd.length <8)
   { psdError.innerHTML= 'Password must be atleast 8 charecters ';
    return false; }
  psdError.innerHTML = ''; return true; }
   function validnewPsd()
   { var psd =document.getElementById('inputPassword4').value; 
   if(psd.length == 0)
   {newpsdError.innerHTML= 'Password is required'; return false; } 
   if(psd.length <8)
   { newpsdError.innerHTML= 'Password must be atleast 8 charecters '; return
  false; }
  newpsdError.innerHTML = ''; return true; } 

  function formValid()
  {
  if(!validEmail() || !validPsd() || !validnewPsd()){ return false; } 
  return true; };
  
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
</body>
</html>